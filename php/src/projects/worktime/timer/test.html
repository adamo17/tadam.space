<!DOCTYPE html>
<html>
<head>
    <title>Timer with Pause/Resume/Set</title>
</head>
<body>
    <div id="timer">00:00:00</div>
    <button id="start">Start</button>
    <button id="pause">Pause</button>
    <button id="resume">Resume</button>
    <input type="text" id="customTime" placeholder="Set Time (hh:mm:ss)">
    <button id="set">Set</button>
    <script>
        let startTime;
        let interval;
        let pausedTime = 0;
        let customTime = 0;

        const timerElement = document.getElementById('timer');
        const startButton = document.getElementById('start');
        const pauseButton = document.getElementById('pause');
        const resumeButton = document.getElementById('resume');
        const customTimeInput = document.getElementById('customTime');
        const setButton = document.getElementById('set');

        function formatMilliseconds(milliseconds) {
            const seconds = Math.floor(milliseconds / 1000);
            const minutes = Math.floor(seconds / 60);
            const hours = Math.floor(minutes / 60);

            const formattedHours = String(hours).padStart(2, '0');
            const formattedMinutes = String(minutes % 60).padStart(2, '0');
            const formattedSeconds = String(seconds % 60).padStart(2, '0');

            return `${formattedHours}:${formattedMinutes}:${formattedSeconds}`;
        }

        function updateTimer() {
            const currentTime = new Date().getTime();
            const elapsedTime = currentTime - startTime + pausedTime + customTime;
            timerElement.textContent = formatMilliseconds(elapsedTime);
        }

        startButton.addEventListener('click', () => {
            startTime = new Date().getTime();
            interval = setInterval(updateTimer, 1000);
        });

        pauseButton.addEventListener('click', () => {
            clearInterval(interval);
            pausedTime += new Date().getTime() - startTime;
        });

        resumeButton.addEventListener('click', () => {
            startTime = new Date().getTime();
            interval = setInterval(updateTimer, 1000);
        });

        setButton.addEventListener('click', () => {
            const customTimeInputValue = customTimeInput.value;
            const [hh, mm, ss] = customTimeInputValue.split(':').map(Number);
            if (!isNaN(hh) && !isNaN(mm) && !isNaN(ss)) {
                const currentElapsedTime = new Date().getTime() - startTime + pausedTime + customTime;
                const newCustomTime = (hh * 3600 + mm * 60 + ss) * 1000;
                customTime = Math.max(newCustomTime - currentElapsedTime, 0);
            }
        });
    </script>
</body>
</html>
